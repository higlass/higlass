<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>HiGlass</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="hglib.css">

<style type="text/css">
#demo {
  position: absolute;
  left: 1rem;
  top: 1rem;
  bottom: 1rem;
  right: 1rem;
  overflow: hidden;
}
</style>

<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.8.2/pixi.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-bootstrap/0.32.1/react-bootstrap.min.js"></script>
</head>
<body>
  <div id="demo"></div>
</body>
<script src='hglib.js'></script>
<script>
const viewConfig = {
  editable: true,
  zoomFixed: false,
  trackSourceServers: [
    'http://higlass.io/api/v1'
  ],
  exportViewUrl: 'http://higlass.io/api/v1/viewconfs/',
  views: [
    {
      uid: 'aa',
      initialXDomain: [
        7595655.0000270605,
        2507738795.9999733
      ],
      initialYDomain: [
        -545671929.4383738,
        3061006380.438374
      ],
      autocompleteSource: 'http://higlass.io/api/v1/suggest/?d=OHJakQICQD6gTD7skx4EWA&',
      genomePositionSearchBoxVisible: false,
      chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
      tracks: {
        top: [
          {
            name: 'wgEncodeSydhTfbsGm12878Ctcfsc15914c20StdSig',
            created: '2017-02-03T17:46:58.349271Z',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'b6qFe7fOSnaX-YkP2kzN1w',
            uid: 'WCGssXHmQTGOkdRgweYKkQ',
            type: 'horizontal-bar',
            options: {
              labelColor: 'black',
              labelPosition: 'topLeft',
              axisPositionHorizontal: 'right',
              barFillColor: 'darkgreen',
              valueScaling: 'linear',
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              labelTextOpacity: 0.4,
              barOpacity: 1,
              name: 'wgEncodeSydhTfbsGm12878Ctcfsc15914c20StdSig'
            },
            width: 479,
            height: 20,
            position: 'top'
          },
          {
            name: 'Rao et al. (2014) GM12878 MboI (allreps) 1kb',
            created: '2017-02-03T00:28:06.909619Z',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'CQMd6V_cRw6iCI_-Unl3PQ',
            uid: 'YLnxkBvQQxG-UNLxP9wR8g',
            type: 'horizontal-heatmap',
            options: {
              labelPosition: 'bottomRight',
              labelColor: 'black',
              colorRange: [
                'white',
                'rgba(245,166,35,1.0)',
                'rgba(208,2,27,1.0)',
                'black'
              ],
              maxZoom: null,
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              name: 'Rao et al. (2014) GM12878 MboI (allreps) 1kb',
              backgroundColor: '#eeeeee'
            },
            width: 479,
            height: 85,
            transforms: [
              {
                name: 'ICE',
                value: 'weight'
              }
            ],
            position: 'top'
          },
          {
            name: 'Gene Annotations (hg19)',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'OHJakQICQD6gTD7skx4EWA',
            uid: 'BEEMEjU7QCa2krDO9C0yOQ',
            type: 'horizontal-gene-annotations',
            options: {
              labelPosition: 'outerTop',
              name: 'Gene Annotations (hg19)',
              labelColor: 'black',
              plusStrandColor: 'blue',
              minusStrandColor: 'red',
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              showMousePosition: false,
              mousePositionColor: '#999999'
            },
            width: 479,
            height: 60,
            position: 'top',
            header: ''
          },
          {
            name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'F2vbUeqhS86XkxuO1j2rPA',
            type: 'horizontal-line',
            options: {
              labelColor: 'red',
              labelPosition: 'outerLeft',
              axisPositionHorizontal: 'right',
              lineStrokeColor: 'blue',
              name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig.hitile',
              valueScaling: 'log',
              lineStrokeWidth: 1,
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              labelTextOpacity: 0.4,
              showMousePosition: false,
              mousePositionColor: '#999999',
              showTooltip: false
            },
            width: 479,
            height: 20,
            position: 'top',
            uid: 'RzZlBf58Q7WanbmbZRv-lA'
          },
          {
            chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
            type: 'horizontal-chromosome-labels',
            position: 'top',
            name: 'Chromosome Labels (hg19)',
            height: 30,
            uid: 'I1QUF22JQJuJ38j9PS4iqw',
            options: {
              showMousePosition: false,
              mousePositionColor: '#999999'
            },
            width: 479
          }
        ],
        left: [
          {
            name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'F2vbUeqhS86XkxuO1j2rPA',
            type: 'vertical-line',
            options: {
              labelColor: 'red',
              labelPosition: 'outerLeft',
              axisPositionHorizontal: 'right',
              lineStrokeColor: 'blue',
              name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig.hitile',
              valueScaling: 'log',
              axisPositionVertical: 'top',
              lineStrokeWidth: 1,
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              labelTextOpacity: 0.4,
              showMousePosition: false,
              showTooltip: false,
              mousePositionColor: '#999999'
            },
            width: 20,
            position: 'left',
            uid: 'Y8NKUAFQR1SYGrYJMbEoeQ',
            height: 691
          },
          {
            type: 'vertical-gene-annotations',
            width: 60,
            tilesetUid: 'OHJakQICQD6gTD7skx4EWA',
            server: 'http://higlass.io/api/v1',
            position: 'left',
            name: 'Gene Annotations (hg19)',
            options: {
              labelPosition: 'bottomRight',
              name: 'Gene Annotations (hg19)',
              labelColor: 'black',
              plusStrandColor: 'blue',
              minusStrandColor: 'red',
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              showMousePosition: false,
              mousePositionColor: '#999999'
            },
            uid: 'OgnAEKSHRaG-gR1RqPOuBQ',
            height: 691,
            header: ''
          },
          {
            chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
            type: 'vertical-chromosome-labels',
            position: 'left',
            name: 'Chromosome Labels (hg19)',
            width: 30,
            uid: 'a-mFiHnBQ8uuI6UG3USWVA',
            options: {
              showMousePosition: false,
              mousePositionColor: '#999999'
            },
            height: 691
          }
        ],
        center: [
          {
            uid: 'c1',
            type: 'combined',
            height: 691,
            contents: [
              {
                server: 'http://higlass.io/api/v1',
                tilesetUid: 'CQMd6V_cRw6iCI_-Unl3PQ',
                type: 'heatmap',
                position: 'center',
                options: {
                  colorRange: [
                    '#FFFFFF',
                    '#F8E71C',
                    '#F5A623',
                    '#D0021B'
                  ],
                  colorbarPosition: 'topRight',
                  colorbarLabelsPosition: 'outside',
                  maxZoom: null,
                  labelPosition: 'bottomLeft',
                  name: 'Rao et al. (2014) GM12878 MboI (allreps) 1kb',
                  trackBorderWidth: 0,
                  trackBorderColor: 'black',
                  heatmapValueScaling: 'log',
                  scaleStartPercent: '0.00000',
                  scaleEndPercent: '1.00000',
                  backgroundColor: '#eeeeee',
                  showMousePosition: false,
                  mousePositionColor: '#999999',
                  showTooltip: true
                },
                uid: 'heatmap1',
                name: 'Rao et al. (2014) GM12878 MboI (allreps) 1kb',
                transforms: [
                  {
                    name: 'ICE',
                    value: 'weight'
                  }
                ],
                width: 479,
                height: 691
              },
              {
                type: '2d-chromosome-grid',
                local: true,
                orientation: '2d',
                name: 'Chromosome Grid (hg19)',
                chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
                thumbnail: null,
                server: '',
                tilesetUid: 'TIlwFtqxTX-ndtM7Y9k1bw',
                uid: 'LUVqXXu2QYiO8XURIwyUyA',
                options: {
                  lineStrokeWidth: 1,
                  lineStrokeColor: 'grey'
                },
                position: 'center',
                width: 479,
                height: 691
              }
            ],
            position: 'center',
            options: {},
            width: 479
          }
        ],
        right: [
          {
            type: 'vertical-gene-annotations',
            width: 60,
            tilesetUid: 'OHJakQICQD6gTD7skx4EWA',
            server: 'http://higlass.io/api/v1',
            name: 'Gene Annotations (hg19)',
            options: {
              labelPosition: 'outerBottom',
              name: 'Gene Annotations (hg19)',
              labelColor: 'black',
              plusStrandColor: 'blue',
              minusStrandColor: 'red',
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              showMousePosition: false,
              mousePositionColor: '#999999'
            },
            position: 'right',
            uid: 'Fbw5wZb8Soe1JgQQ2Z6EoA',
            height: 691,
            header: ''
          },
          {
            chromInfoPath: '//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv',
            type: 'vertical-chromosome-labels',
            name: 'Chromosome Labels (hg19)',
            width: 30,
            options: {
              labelPosition: 'outerBottom',
              name: 'Chromosome labels',
              showMousePosition: false,
              mousePositionColor: '#999999'
            },
            position: 'right',
            uid: 'VdplA_MaRuqvlKvJaCKpGA',
            height: 691
          }
        ],
        bottom: [
          {
            name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig',
            server: 'http://higlass.io/api/v1',
            tilesetUid: 'F2vbUeqhS86XkxuO1j2rPA',
            type: 'horizontal-line',
            options: {
              labelPosition: 'outerLeft',
              axisPositionHorizontal: 'right',
              lineStrokeColor: 'blue',
              name: 'wgEncodeSydhTfbsGm12878Rad21IggrabSig.hitile',
              valueScaling: 'log',
              labelColor: 'black',
              lineStrokeWidth: 1,
              trackBorderWidth: 0,
              trackBorderColor: 'black',
              labelTextOpacity: 0.4,
              showMousePosition: false,
              mousePositionColor: '#999999',
              showTooltip: false
            },
            width: 479,
            height: 50,
            position: 'bottom',
            uid: 'NlTkTBTCS--0qpB9Kn_ohw'
          }
        ],
        whole: [
          {
            type: 'cross-rule',
            x: 1103691812.8496904,
            y: 1338569560.9603324,
            position: 'whole',
            options: {},
            uid: 'btFjZjl2Tkm3hmjVhWBqTA',
            name: 'Cross Rule',
            width: 20,
            height: 20
          }
        ],
        gallery: []
      },
      layout: {
        w: 12,
        h: 12,
        x: 0,
        y: 0,
        i: 'aa',
        moved: false,
        static: false
      },
      genomePositionSearchBox: {
        autocompleteServer: 'http://higlass.io/api/v1',
        chromInfoServer: 'http://higlass.io/api/v1',
        visible: true,
        chromInfoId: 'hg19',
        autocompleteId: 'OHJakQICQD6gTD7skx4EWA'
      }
    }
  ],
  zoomLocks: {
    locksByViewUid: {},
    locksDict: {}
  },
  locationLocks: {
    locksByViewUid: {},
    locksDict: {}
  },
  valueScaleLocks: {
    locksByViewUid: {},
    locksDict: {}
  }
};

const hgApi = hglib.viewer(
  document.getElementById('demo'),
  viewConfig,
  { bounded: true },
);

hgApi.on('viewConfig', () => {
  console.log('View Config changed');
});
</script>
</html>
