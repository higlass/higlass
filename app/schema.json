{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://higlass.io/#viewconf",
  "title": "HiGlass viewconf",
  "description": "Root object describing a HiGlass visualization.",
  "type": "object",
  "properties": {
    "editable": {
      "default": true,
      "type": "boolean"
    },
    "viewEditable": {
      "default": true,
      "type": "boolean"
    },
    "tracksEditable": {
      "default": true,
      "type": "boolean"
    },
    "zoomFixed": {
      "type": "boolean"
    },
    "compactLayout": {
      "type": "boolean"
    },
    "exportViewUrl": {
      "type": "string"
    },
    "trackSourceServers": {
      "minItems": 1,
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "views": {
      "minItems": 1,
      "type": "array",
      "items": {
        "$ref": "#/definitions/View"
      }
    },
    "zoomLocks": {
      "$ref": "#/definitions/ZoomLocks"
    },
    "locationLocks": {
      "$ref": "#/definitions/LocationLocks"
    },
    "valueScaleLocks": {
      "$ref": "#/definitions/ValueScaleLocks"
    },
    "chromInfoPath": {
      "type": "string"
    }
  },
  "additionalProperties": false,
  "definitions": {
    "Layout": {
      "description": "Size and position of a View.",
      "type": "object",
      "properties": {
        "x": {
          "description": "The X Position",
          "default": 0,
          "type": "integer"
        },
        "y": {
          "description": "The Y Position",
          "default": 0,
          "type": "integer"
        },
        "w": {
          "description": "Width",
          "default": 12,
          "type": "integer"
        },
        "h": {
          "description": "Height",
          "default": 12,
          "type": "integer"
        },
        "moved": {
          "type": "boolean"
        },
        "static": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "Data": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "url": {
          "type": "string"
        },
        "server": {
          "type": "string"
        },
        "filetype": {
          "type": "string"
        },
        "children": {
          "type": "array",
          "items": {}
        },
        "tilesetInfo": {
          "type": "object"
        },
        "tiles": {
          "type": "object"
        }
      },
      "additionalProperties": false
    },
    "EnumTrack": {
      "type": "object",
      "properties": {
        "tilesetUid": {
          "type": "string"
        },
        "server": {
          "type": "string"
        },
        "uid": {
          "type": "string"
        },
        "width": {
          "type": "integer"
        },
        "height": {
          "type": "integer"
        },
        "options": {
          "type": "object"
        },
        "type": {
          "anyOf": [
            {
              "enum": [
                "viewport-projection-center",
                "viewport-projection-vertical",
                "viewport-projection-horizontal"
              ],
              "type": "string"
            },
            {
              "enum": [
                "multivec",
                "1d-heatmap",
                "line",
                "point",
                "bar",
                "divergent-bar",
                "stacked-interval",
                "gene-annotations",
                "linear-2d-rectangle-domains",
                "chromosome-labels",
                "linear-heatmap",
                "1d-value-interval",
                "2d-annotations",
                "2d-chromosome-annotations",
                "2d-chromosome-grid",
                "2d-chromosome-labels",
                "2d-rectangle-domains",
                "2d-tiles",
                "arrowhead-domains",
                "bedlike",
                "cross-rule",
                "dummy",
                "horizontal-1d-annotations",
                "horizontal-1d-heatmap",
                "horizontal-1d-tiles",
                "horizontal-1d-value-interval",
                "horizontal-2d-rectangle-domains",
                "horizontal-bar",
                "horizontal-chromosome-grid",
                "horizontal-chromosome-labels",
                "horizontal-divergent-bar",
                "horizontal-gene-annotations",
                "horizontal-heatmap",
                "horizontal-line",
                "horizontal-multivec",
                "horizontal-point",
                "horizontal-rule",
                "horizontal-vector-heatmap",
                "image-tiles",
                "left-axis",
                "left-stacked-interval",
                "mapbox-tiles",
                "osm-2d-tile-ids",
                "osm-tiles",
                "raster-tiles",
                "simple-svg",
                "square-markers",
                "top-axis",
                "top-stacked-interval",
                "vertical-1d-annotations",
                "vertical-1d-heatmap",
                "vertical-1d-tiles",
                "vertical-1d-value-interval",
                "vertical-2d-rectangle-domains",
                "vertical-bar",
                "vertical-bedlike",
                "vertical-chromosome-grid",
                "vertical-chromosome-labels",
                "vertical-gene-annotations",
                "vertical-heatmap",
                "vertical-line",
                "vertical-multivec",
                "vertical-point",
                "vertical-rule",
                "vertical-vector-heatmap"
              ],
              "type": "string"
            }
          ]
        },
        "data": {
          "$ref": "#/definitions/Data"
        },
        "chromInfoPath": {
          "type": "string"
        },
        "fromViewUid": {
          "type": "string"
        },
        "x": {
          "type": "number"
        },
        "y": {
          "type": "number"
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false
    },
    "HeatmapTrack": {
      "type": "object",
      "properties": {
        "tilesetUid": {
          "type": "string"
        },
        "server": {
          "type": "string"
        },
        "uid": {
          "type": "string"
        },
        "width": {
          "type": "integer"
        },
        "height": {
          "type": "integer"
        },
        "options": {
          "type": "object"
        },
        "type": {
          "enum": [
            "heatmap"
          ],
          "type": "string"
        },
        "data": {
          "$ref": "#/definitions/Data"
        },
        "position": {
          "type": "string"
        },
        "transforms": {
          "type": "array",
          "items": {}
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false
    },
    "IndependentViewportProjectionTrack": {
      "type": "object",
      "properties": {
        "uid": {
          "type": "string"
        },
        "width": {
          "type": "integer"
        },
        "height": {
          "type": "integer"
        },
        "options": {
          "type": "object"
        },
        "type": {
          "enum": [
            "viewport-projection-center",
            "viewport-projection-vertical",
            "viewport-projection-horizontal"
          ],
          "type": "string"
        },
        "fromViewUid": {
          "type": "null"
        },
        "projectionXDomain": {
          "type": "array",
          "minItems": 2,
          "maxItems": 2,
          "items": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ]
        },
        "projectionYDomain": {
          "type": "array",
          "minItems": 2,
          "maxItems": 2,
          "items": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ]
        },
        "transforms": {
          "type": "array",
          "items": {}
        },
        "x": {
          "type": "number"
        },
        "y": {
          "type": "number"
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false
    },
    "CombinedTrack": {
      "type": "object",
      "properties": {
        "uid": {
          "type": "string"
        },
        "width": {
          "type": "integer"
        },
        "height": {
          "type": "integer"
        },
        "options": {
          "type": "object"
        },
        "type": {
          "enum": [
            "combined"
          ],
          "type": "string"
        },
        "contents": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/EnumTrack"
              },
              {
                "$ref": "#/definitions/CombinedTrack"
              },
              {
                "$ref": "#/definitions/HeatmapTrack"
              },
              {
                "$ref": "#/definitions/IndependentViewportProjectionTrack"
              }
            ]
          }
        },
        "position": {
          "type": "string"
        }
      },
      "required": [
        "type",
        "contents"
      ],
      "additionalProperties": false
    },
    "Tracks": {
      "description": "Track layout within a View.",
      "type": "object",
      "properties": {
        "left": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/EnumTrack"
              },
              {
                "$ref": "#/definitions/CombinedTrack"
              },
              {
                "$ref": "#/definitions/HeatmapTrack"
              },
              {
                "$ref": "#/definitions/IndependentViewportProjectionTrack"
              }
            ]
          }
        },
        "right": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/EnumTrack"
              },
              {
                "$ref": "#/definitions/CombinedTrack"
              },
              {
                "$ref": "#/definitions/HeatmapTrack"
              },
              {
                "$ref": "#/definitions/IndependentViewportProjectionTrack"
              }
            ]
          }
        },
        "top": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/EnumTrack"
              },
              {
                "$ref": "#/definitions/CombinedTrack"
              },
              {
                "$ref": "#/definitions/HeatmapTrack"
              },
              {
                "$ref": "#/definitions/IndependentViewportProjectionTrack"
              }
            ]
          }
        },
        "bottom": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/EnumTrack"
              },
              {
                "$ref": "#/definitions/CombinedTrack"
              },
              {
                "$ref": "#/definitions/HeatmapTrack"
              },
              {
                "$ref": "#/definitions/IndependentViewportProjectionTrack"
              }
            ]
          }
        },
        "center": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/EnumTrack"
              },
              {
                "$ref": "#/definitions/CombinedTrack"
              },
              {
                "$ref": "#/definitions/HeatmapTrack"
              },
              {
                "$ref": "#/definitions/IndependentViewportProjectionTrack"
              }
            ]
          }
        },
        "whole": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/EnumTrack"
              },
              {
                "$ref": "#/definitions/CombinedTrack"
              },
              {
                "$ref": "#/definitions/HeatmapTrack"
              },
              {
                "$ref": "#/definitions/IndependentViewportProjectionTrack"
              }
            ]
          }
        },
        "gallery": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/EnumTrack"
              },
              {
                "$ref": "#/definitions/CombinedTrack"
              },
              {
                "$ref": "#/definitions/HeatmapTrack"
              },
              {
                "$ref": "#/definitions/IndependentViewportProjectionTrack"
              }
            ]
          }
        }
      },
      "additionalProperties": false
    },
    "GenomePositionSearchBox": {
      "description": "Locations to search within a View.",
      "type": "object",
      "properties": {
        "autocompleteServer": {
          "description": "The Autocomplete Server URL",
          "examples": [
            "//higlass.io/api/v1"
          ],
          "type": "string"
        },
        "autocompleteId": {
          "description": "The Autocomplete ID",
          "examples": [
            "OHJakQICQD6gTD7skx4EWA"
          ],
          "type": "string"
        },
        "chromInfoServer": {
          "description": "The Chrominfo Server URL",
          "examples": [
            "//higlass.io/api/v1"
          ],
          "type": "string"
        },
        "chromInfoId": {
          "description": "The Chromosome Info ID",
          "examples": [
            "hg19"
          ],
          "type": "string"
        },
        "visible": {
          "description": "The Visible Schema",
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "OverlayOptions": {
      "type": "object",
      "properties": {
        "extent": {
          "type": "array",
          "items": {
            "type": "array",
            "items": {
              "type": "integer"
            }
          }
        },
        "minWidth": {
          "type": "number"
        },
        "fill": {
          "type": "string"
        },
        "fillOpacity": {
          "type": "number"
        },
        "stroke": {
          "type": "string"
        },
        "strokeOpacity": {
          "type": "number"
        },
        "strokeWidth": {
          "type": "number"
        },
        "strokePos": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          ]
        },
        "outline": {
          "type": "string"
        },
        "outlineOpacity": {
          "type": "number"
        },
        "outlineWidth": {
          "type": "number"
        },
        "outlinePos": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          ]
        }
      }
    },
    "Overlay": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "uid": {
          "type": "string"
        },
        "chromInfoPath": {
          "type": "string"
        },
        "includes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "options": {
          "$ref": "#/definitions/OverlayOptions"
        }
      },
      "additionalProperties": false
    },
    "View": {
      "description": "An arrangment of Tracks to display within a given Layout.",
      "type": "object",
      "properties": {
        "layout": {
          "$ref": "#/definitions/Layout"
        },
        "tracks": {
          "$ref": "#/definitions/Tracks"
        },
        "uid": {
          "type": "string"
        },
        "autocompleteSource": {
          "type": "string"
        },
        "chromInfoPath": {
          "type": "string"
        },
        "genomePositionSearchBox": {
          "$ref": "#/definitions/GenomePositionSearchBox"
        },
        "genomePositionSearchBoxVisible": {
          "type": "boolean"
        },
        "initialXDomain": {
          "type": "array",
          "minItems": 2,
          "maxItems": 2,
          "items": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ]
        },
        "initialYDomain": {
          "type": "array",
          "minItems": 2,
          "maxItems": 2,
          "items": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ]
        },
        "overlays": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Overlay"
          }
        },
        "selectionView": {
          "type": "boolean"
        },
        "zoomFixed": {
          "type": "boolean"
        },
        "zoomLimits": {
          "default": [
            1,
            null
          ],
          "type": "array",
          "minItems": 2,
          "maxItems": 2,
          "items": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ]
        }
      },
      "required": [
        "layout",
        "tracks"
      ],
      "additionalProperties": false
    },
    "Lock": {
      "type": "object",
      "properties": {
        "uid": {
          "title": "Uid",
          "type": "string"
        }
      },
      "additionalProperties": {
        "type": "array",
        "minItems": 3,
        "maxItems": 3,
        "items": [
          {
            "type": "number"
          },
          {
            "type": "number"
          },
          {
            "type": "number"
          }
        ]
      }
    },
    "ZoomLocks": {
      "type": "object",
      "properties": {
        "locksByViewUid": {
          "default": {},
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "locksDict": {
          "default": {},
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/Lock"
          }
        }
      },
      "additionalProperties": false
    },
    "AxisSpecificLock": {
      "type": "object",
      "properties": {
        "axis": {
          "enum": [
            "x",
            "y"
          ],
          "type": "string"
        },
        "lock": {
          "type": "string"
        }
      },
      "required": [
        "axis",
        "lock"
      ],
      "additionalProperties": false
    },
    "AxisSpecificLocks": {
      "type": "object",
      "properties": {
        "x": {
          "$ref": "#/definitions/AxisSpecificLock"
        },
        "y": {
          "$ref": "#/definitions/AxisSpecificLock"
        }
      },
      "additionalProperties": false
    },
    "LocationLocks": {
      "type": "object",
      "properties": {
        "locksByViewUid": {
          "default": {},
          "type": "object",
          "additionalProperties": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/definitions/AxisSpecificLocks"
              }
            ]
          }
        },
        "locksDict": {
          "default": {},
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/Lock"
          }
        }
      },
      "additionalProperties": false
    },
    "ValueScaleLock": {
      "type": "object",
      "properties": {
        "uid": {
          "title": "Uid",
          "type": "string"
        },
        "ignoreOffScreenValues": {
          "title": "Ignoreoffscreenvalues",
          "type": "boolean"
        }
      },
      "additionalProperties": {
        "type": "object",
        "properties": {
          "view": {
            "type": "string"
          },
          "track": {
            "type": "string"
          }
        },
        "required": [
          "view",
          "track"
        ]
      }
    },
    "ValueScaleLocks": {
      "type": "object",
      "properties": {
        "locksByViewUid": {
          "default": {},
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "locksDict": {
          "default": {},
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/ValueScaleLock"
          }
        }
      },
      "additionalProperties": false
    }
  }
}
