<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HiGlass</title>
    <style type="text/css">
      #demo {
        position: absolute;
        left: 1rem;
        top: 1rem;
        bottom: 1rem;
        right: 1rem;
        overflow: hidden;
      }
    </style>
    <!-- HIGLASS IMPORT -->
    <script id="higlass-import" type="module">
      // we import higlass here and set a global so that we can
      // replace this block with our UMD build in './scripts/compile.mjs'
      import * as hglib from "./app/scripts/hglib";
      globalThis.hglib = hglib;
    </script>
    <!-- HIGLASS IMPORT -->
  </head>

  <body>
    <div id="demo"></div>
  </body>

  <script type="module">
    const viewConfig = {
  "editable": true,
  "trackSourceServers": [
    "/api/v1",
    "http://higlass.io/api/v1"
  ],
  "exportViewUrl": "/api/v1/viewconfs",
  "views": [
    {
      "initialXDomain": [
        11147450.419511322,
        11148600.678086754
      ],
      "initialYDomain": [
        -155706751.7494025,
        -155705913.588958
      ],
      "tracks": {
        "top": [
          {
            "type": "gff-gene-annotations",
            "uid": "L53nkX6oS7u052F95VGu6A",
            "tilesetUid": "I4iFWykGRL2sPa0HhkQa_g",
            "server": "http://localhost:8000/api/v1",
            "options": {
              "alternating": false,
              "annotationStyle": "box",
              "fillColor": "blue",
              "fillOpacity": 0.3,
              "fontSize": "10",
              "axisPositionHorizontal": "right",
              "labelColor": "black",
              "labelPosition": "hidden",
              "labelLeftMargin": 0,
              "labelRightMargin": 0,
              "labelTopMargin": 0,
              "labelBottomMargin": 0,
              "minHeight": 20,
              "maxAnnotationHeight": null,
              "trackBorderWidth": 0,
              "trackBorderColor": "black",
              "valueColumn": null,
              "colorEncoding": "itemRgb",
              "showTexts": false,
              "colorRange": [
                "#000000",
                "#652537",
                "#bf5458",
                "#fba273",
                "#ffffe0"
              ],
              "colorEncodingRange": false,
              "separatePlusMinusStrands": true,
              "annotationHeight": 16,
              "name": "genomic_properly_sorted"
            },
            "width": 514,
            "height": 139
          },
          {
            "type": "top-axis",
            "local": true,
            "orientation": "1d-horizontal",
            "thumbnail": {},
            "defaultOptions": {},
            "server": "",
            "tilesetUid": "WyPHIkFQRn6iKoq7HAY36g",
            "uid": "LtV7zDJDQfuSUrlftyPFfQ",
            "options": {},
            "width": 514,
            "height": 20
          }
        ],
        "left": [],
        "center": [],
        "bottom": [],
        "right": [],
        "whole": [],
        "gallery": []
      },
      "layout": {
        "w": 12,
        "h": 12,
        "x": 0,
        "y": 0
      },
      "uid": "SB8WZe43ToKKC-oFX9pzHw"
    }
  ],
  "zoomLocks": {
    "locksByViewUid": {},
    "locksDict": {}
  },
  "locationLocks": {
    "locksByViewUid": {},
    "locksDict": {}
  },
  "valueScaleLocks": {
    "locksByViewUid": {},
    "locksDict": {}
  }
}

    const hgApi = window.hgApi = await hglib.viewer(
      document.getElementById('demo'),
      viewConfig,
      { bounded: true },
    );

    hgApi.on('viewConfig', () => {
      // console.log('View Config changed');
    });

  </script>
</html>
